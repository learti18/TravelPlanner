import{a as l}from"./useDestinations-DSFJXpoB.js";import{a as n}from"./vendor-Bi9KE6av.js";import{t as c}from"./index-C1Txk7kS.js";function L(u,g){const[v,d]=n.useState([]),[m,o]=n.useState(!0),[A,$]=n.useState({});n.useEffect(()=>{p(u)},[u]),n.useEffect(()=>{},[]);const p=async i=>{var e,s;if(i){o(!0);try{const t=await l.get(`destinations/${i}/activities`);d(t.data)}catch(t){c.error(((s=(e=t.response)==null?void 0:e.data)==null?void 0:s.message)||"Failed to fetch activities")}finally{o(!1)}}};return{activities:v,activity:A,isLoading:m,fetchActivities:p,addActivity:async(i,e)=>{var s,t;try{const a=await l.post(`destinations/${i}/activities`,e,{headers:{"Content-Type":"multipart/form-data"}});d(r=>[...r,a.data]),c.success("Activity added successfully")}catch(a){c.error(((t=(s=a.response)==null?void 0:s.data)==null?void 0:t.message)||"Failed to add activity")}finally{o(!1)}},updateActivity:async(i,e,s)=>{var t,a;try{const y=(await l.put(`destinations/${i}/activities/${e}`,s,{headers:{"Content-Type":"multipart/form-data"}})).data;d(h=>h.map(f=>f.id===e?y:f)),c.success("Activity updated successfully")}catch(r){c.error(((a=(t=r.response)==null?void 0:t.data)==null?void 0:a.message)||"Failed to update activity")}finally{o(!1)}},deleteActivity:async(i,e)=>{var s,t;try{const a=await l.delete(`destinations/${i}/activities/${e}`);d(r=>r.filter(y=>y.id!==e)),c.success("Activity deleted successfully")}catch(a){c.error(((t=(s=a.response)==null?void 0:s.data)==null?void 0:t.message)||"Failed to delete activity")}finally{o(!1)}}}}export{L as u};
